# PeTools
## Pe文件查看和加壳工具
    加壳程序主要适用于Pe文件结构的渗透工具的免杀

## 加壳原理介绍
    加壳程序分为两部分，加载器和壳。
    加载器的主要作用为，首先创建一个新的节用于存放壳代码，将原程序的目录表清空并传递给壳程序，然后进行异或加密所有节，最后将壳的二进制代码拷贝到新增节中。
    壳的主要作用为，将程序根据命令行参数传递过来的密码（就是加载器中异或运算的字符串）进行程序解密，把目录表恢复，修复IAT表，最后跳转到原OEP处执行原程序的代码。

## 使用方法
    给程序加壳后，通过命令行第一个参数为密码，后面为程序正常使用的参数
    如：
>   shelled.exe abcdef0123456789 xxx xxx

## 注意事项
    壳的密码长度必须为16位，且首位不能为空格
    目前程序只做了IAT表的修复，所以高版本编译器编译的程序中如果存在重定位表和加载配置信息表，可能会导致运行失败

## 参考
    《Windows PE 权威指南》
    b站滴水三期逆向视频